# ImgStamp 协作指南（AGENTS）

## 项目概述
- ImgStamp 是个人离线使用的桌面应用，用于给照片批量加白边与文字标注，并导出成品图。
- 当前在 WSL 中开发，最终运行在 Windows 上。
- 需求与技术方案以 `docs/PRD.md` 和 `docs/TECH_DESIGN.md` 为准，任何实现都应先对齐这两份文档。

## 协作与对话约定
- AI 与开发者的沟通必须使用中文。
- 任何实现建议都应尽量贴合“简单、易维护、易上手”的定位。
- 避免过度设计与过度抽象，优先可读性与可落地性。

## 开发规范
- 默认只做“必要的”功能实现，不做超出 PRD 的扩展。
- 不修改用户原始图片，所有输出必须写入导出目录。
- 任何耗时任务（扫描、EXIF、导出）必须在主进程进行，并通过 IPC 通知渲染进程。
- 项目数据的读写只在主进程进行，并使用原子写入避免数据损坏。
- 文件路径与大小写需兼容 Windows 习惯与限制。

## 测试要求
- 至少覆盖以下路径的手动验证：
  - 导入文件夹 → 缩略图显示 → 选中/状态切换
  - EXIF 有/无的照片日期读取与手动输入
  - 批量填充日期/地点
  - 导出输出目录与生成文件数量

## 代码风格
- 保持代码简洁，避免多层抽象与过度封装。
- 复杂逻辑应添加少量必要注释，但不要写冗余注释。
- 命名清晰、语义直接，避免过度缩写。
- 优先使用 TypeScript 的显式类型以提升可读性。

## 注意事项
- 当前开发环境为 WSL，但应用运行目标为 Windows：路径分隔符、文件权限、字体渲染差异需要关注。
- 若涉及系统字体或中文显示，请优先使用 Windows 常见字体，或提供可配置字体路径。

## Git 提交规范
- Commit message 必须遵循 Conventional Commits 标准 （并且采用中文描述），例如：
  - `feat: 添加项目保存/加载`
  - `fix: 处理 EXIF 缺失日期`
  - `chore: 更新依赖`
