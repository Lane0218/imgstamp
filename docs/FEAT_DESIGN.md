# ImgStamp 排版系统规范

你正在为 **ImgStamp** 设计照片导出排版系统。

这是一个 **用于照片冲印与长期存档的排版系统**，  
**不是** 水印工具，  
**不是** 社交媒体样式，  
**不是** 装饰性设计。

**请严格遵守以下规则，不要自行发挥。**

---

## 一、核心目标（最高优先级）

生成的图片必须：

- 适配 **不同原始照片长宽比例**
    
- 适配 **多种固定导出尺寸**
    
- 具有 **统一、克制、出版物级别的排版一致性**
    
- 文字侧白边充足，**避免照片冲印时文字被裁切**
    
- 文字 **永远不与照片内容重叠**
    

---

## 二、导出尺寸（固定约束）

系统只支持以下四种导出尺寸：

- **五寸**
    
- **六寸**
    
- **大五寸**
    
- **大六寸**
    

每一种尺寸都对应一个 **固定最终画布尺寸（宽 × 高）**。

当原图为 **竖向（高度 > 宽度）** 时，  
画布应按对应尺寸 **宽高对调**，保持竖向画布。

⚠️ 所有排版计算 **必须基于最终画布尺寸**，  
**绝不能基于原图尺寸直接写死像素值**。

---

## 三、整体排版模型（强制）

最终成品由以下部分组成：

1. 固定比例的 **最终画布**
    
2. **照片区域**
    
3. **白边（文字侧白边为必要项，可仅在文字侧）**
    
4. **文字注释区（始终位于文字侧白边内）**
    

照片是被“放进画布中的内容”，  
**画布不是由照片撑开的。**

---

## 四、白边规则（以文字安全为主）

### 4.1 最小安全白边

- **仅文字所在方向** 必须留白，确保文字完整且不被裁切
    
- **非文字方向** 白边可为 0–2%，以最大化图片尺寸
    
- 文字与照片之间 **仅保留必要安全距离**，避免拉开过大空隙
    
- 文字侧白边厚度 **必须达到“可容纳两行文字高度”**（即：文字高度的 2 倍）
    

### 4.2 推荐白边比例（相对画布）

|区域|比例|
|---|---|
|文字所在方向白边|≥ 2 × 字高（其中 1 × 为文字，1 × 为额外空白）|
|非文字方向白边|0–2%（可为 0）|

> 使用“下方文字规则”时，下白边为最大白边  
> 使用“右侧文字规则”时，右白边为最大白边

---

## 五、照片放置规则

- 照片必须：
    
    - 保持原始长宽比
        
    - 不裁剪
        
    - 不拉伸
        
- 计算可用照片区域：
    
    ```
    可用宽度 = 画布宽度 - 左白边 - 右白边
    可用高度 = 画布高度 - 上白边 - 下白边
    ```
    
- 照片在可用区域内：
    
    - 等比缩放
        
    - 居中放置
        
- 在不裁剪的前提下，**尽可能放大图片**
        

---

## 六、文字位置规则（条件判断）

### 6.1 图片类型判定

根据原图比例进行分类：

- **瘦高型图片（典型：手机截图）**
    
    ```
    高度 / 宽度 ≥ 1.8
    ```
    
- **普通图片**
    
    - 所有不满足上述条件的图片
        

---

### 6.2 文字放置策略

#### 情况 A：普通图片（默认情况）

- 文字放置在 **下方白边区域**
    
- 排版结构固定为：
    
    ```
    地点 ｜ 简短描述                日期
    ```
    
- 左侧文字左对齐
    
- 日期右对齐

- 文字 **尽可能靠近照片内容边界**
    
- 靠近照片一侧的内边距最小化，额外空白放在远离照片一侧
    

---

#### 情况 B：瘦高型图片（手机截图等）

- 文字放置在 **右侧白边区域**
    
- 右侧白边厚度 **≥ 2 × 字高**
    
- 文字 **竖向排版**（整体逆时针旋转 90°）
    
- 右侧文字分为上下两段：
    
    - 上方：日期（贴近图片上沿）
        
    - 下方：地点 ｜ 描述（贴近图片下沿）
        
    - 两段间距 **明显拉开**（至少 1 × 字高）
        
- 文字列 **贴近图片边缘**，额外空白置于最右侧
    

---

## 七、文字排版规则

- 文字 **只允许单行**
    
- 不自动换行
    
- 不强调、不加粗
    
- 字色：深灰或接近黑色
    
- 字号（相对画布高度）：
    
    ```
    字高 ≈ 画布高度的 2.0% – 2.5%
    ```
    
- 文字必须是“说明性存在”，**不得压过照片视觉权重**

- 文字区内边距适度，**靠近照片侧尽量小**，避免与照片拉开过大距离
    

---

## 八、对齐规则（不可协商）

- 左侧信息：左对齐
    
- 日期信息：右对齐

- 底部文字对齐基准为 **照片内容边界** 的左右边缘（非画布白边）
    
- 右侧文字对齐基准为 **照片内容边界** 的上/下沿
    
- 不允许整体居中排版
    
- 视觉平衡依靠白边与留白，而不是居中
    

---

## 九、多尺寸一致性规则

同一张照片导出为不同尺寸时：

- 排版逻辑必须一致
    
- 相对比例必须一致
    
- 文字位置策略必须一致
    
- 只允许绝对像素变化，不允许版式变化
    

---

## 十、严格禁止事项

系统 **绝对禁止**：

- 在照片内容上叠加文字
    
- 为了塞下内容而压缩白边
    
- 根据照片内容“临时调整”版式
    
- 使用花哨字体
    
- 使用彩色背景
    
- 添加阴影、贴纸、图标、水印效果
    
- 做任何装饰性设计
    

---

## 十一、设计哲学（用于决策判断）

本系统参考的是：

- 摄影集
    
- 年度影像记录
    
- 纸质相册
    
- 档案级图像排版
    

本系统 **不参考**：

- 社交媒体图片
    
- App UI
    
- 水印工具
    
- 海报设计
    

**当不确定时，优先选择：克制、留白、安全。**

---

## 十二、最终自检规则（必须通过）

在输出结果前，确认以下问题：

> 如果照片在冲印过程中被轻微裁切，  
> **所有文字是否仍然完整、清晰、未被截断？**

如果答案不是“是”，  
该排版 **不可接受**。
